{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nconst axios_1 = __importDefault(require(\"axios\"));\n// Only load dotenv in Node.js environment\nlet dotenv;\nif (typeof window === 'undefined') {\n  try {\n    dotenv = require('dotenv');\n    dotenv.config();\n  } catch (err) {\n    console.warn('dotenv not loaded in this environment');\n  }\n}\nclass Crublibrary {\n  static validateCredentials() {\n    // In browser, try to get from environment or local storage\n    if (typeof window !== 'undefined') {\n      // Browser environment\n      this.apiUrl = window.CRUD_API_URL || localStorage.getItem('CRUD_API_URL') || '';\n      this.apiKey = window.CRUD_API_KEY || localStorage.getItem('CRUD_API_KEY') || '';\n    } else {\n      // Node.js environment\n      this.apiUrl = process.env.CRUD_API_URL || '';\n      this.apiKey = process.env.CRUD_API_KEY || '';\n    }\n    if (!this.apiUrl || !this.apiKey) {\n      throw new Error('Missing API URL or API Key. Please set CRUD_API_URL and CRUD_API_KEY in your environment variables or local storage.');\n    }\n  }\n  // Set API credentials programmatically (for browser use)\n  static setCredentials(apiUrl, apiKey) {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('CRUD_API_URL', apiUrl);\n      localStorage.setItem('CRUD_API_KEY', apiKey);\n    }\n    this.apiUrl = apiUrl;\n    this.apiKey = apiKey;\n  }\n  static handleError(error) {\n    var _a, _b, _c;\n    if (axios_1.default.isAxiosError(error)) {\n      const axiosError = error;\n      if (((_a = axiosError.response) === null || _a === void 0 ? void 0 : _a.status) === 429) {\n        throw new Error('Request limit exceeded. Please recharge credits.');\n      }\n      if ((_c = (_b = axiosError.response) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.message) {\n        throw new Error(axiosError.response.data.message);\n      }\n    }\n    throw error instanceof Error ? error : new Error('An unknown error occurred');\n  }\n  static create(item) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.post(`${this.apiUrl}/crud`, item, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n  static get(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.get(`${this.apiUrl}/crud/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n  static update(id, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.put(`${this.apiUrl}/crud/${id}`, data, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n  static delete(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.delete(`${this.apiUrl}/crud/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n}\nmodule.exports = Crublibrary;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","axios_1","require","dotenv","window","config","err","console","warn","Crublibrary","validateCredentials","apiUrl","CRUD_API_URL","localStorage","getItem","apiKey","CRUD_API_KEY","process","env","Error","setCredentials","setItem","handleError","error","_a","_b","_c","default","isAxiosError","axiosError","response","status","data","message","create","item","post","headers","get","id","update","put","delete","module","exports"],"sources":["C:/Users/LENOVO/Downloads/form_pilot_assignment/crublibrary/dist/index.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst axios_1 = __importDefault(require(\"axios\"));\n// Only load dotenv in Node.js environment\nlet dotenv;\nif (typeof window === 'undefined') {\n    try {\n        dotenv = require('dotenv');\n        dotenv.config();\n    }\n    catch (err) {\n        console.warn('dotenv not loaded in this environment');\n    }\n}\nclass Crublibrary {\n    static validateCredentials() {\n        // In browser, try to get from environment or local storage\n        if (typeof window !== 'undefined') {\n            // Browser environment\n            this.apiUrl = window.CRUD_API_URL || localStorage.getItem('CRUD_API_URL') || '';\n            this.apiKey = window.CRUD_API_KEY || localStorage.getItem('CRUD_API_KEY') || '';\n        }\n        else {\n            // Node.js environment\n            this.apiUrl = process.env.CRUD_API_URL || '';\n            this.apiKey = process.env.CRUD_API_KEY || '';\n        }\n        if (!this.apiUrl || !this.apiKey) {\n            throw new Error('Missing API URL or API Key. Please set CRUD_API_URL and CRUD_API_KEY in your environment variables or local storage.');\n        }\n    }\n    // Set API credentials programmatically (for browser use)\n    static setCredentials(apiUrl, apiKey) {\n        if (typeof window !== 'undefined') {\n            localStorage.setItem('CRUD_API_URL', apiUrl);\n            localStorage.setItem('CRUD_API_KEY', apiKey);\n        }\n        this.apiUrl = apiUrl;\n        this.apiKey = apiKey;\n    }\n    static handleError(error) {\n        var _a, _b, _c;\n        if (axios_1.default.isAxiosError(error)) {\n            const axiosError = error;\n            if (((_a = axiosError.response) === null || _a === void 0 ? void 0 : _a.status) === 429) {\n                throw new Error('Request limit exceeded. Please recharge credits.');\n            }\n            if ((_c = (_b = axiosError.response) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.message) {\n                throw new Error(axiosError.response.data.message);\n            }\n        }\n        throw error instanceof Error ? error : new Error('An unknown error occurred');\n    }\n    static create(item) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.post(`${this.apiUrl}/crud`, item, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`,\n                        'Content-Type': 'application/json'\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n    static get(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.get(`${this.apiUrl}/crud/${id}`, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n    static update(id, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.put(`${this.apiUrl}/crud/${id}`, data, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`,\n                        'Content-Type': 'application/json'\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n    static delete(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.delete(`${this.apiUrl}/crud/${id}`, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n}\nmodule.exports = Crublibrary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}