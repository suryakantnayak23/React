{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nconst axios_1 = __importDefault(require(\"axios\"));\nconst dotenv_1 = __importDefault(require(\"dotenv\"));\ndotenv_1.default.config();\nclass Crublibrary {\n  static validateCredentials() {\n    this.apiUrl = process.env.CRUD_API_URL || '';\n    this.apiKey = process.env.CRUD_API_KEY || '';\n    if (!this.apiUrl || !this.apiKey) {\n      throw new Error('Missing API URL or API Key. Please set CRUD_API_URL and CRUD_API_KEY in your environment variables.');\n    }\n  }\n  static handleError(error) {\n    var _a, _b, _c;\n    if (axios_1.default.isAxiosError(error)) {\n      const axiosError = error;\n      if (((_a = axiosError.response) === null || _a === void 0 ? void 0 : _a.status) === 429) {\n        throw new Error('Request limit exceeded. Please recharge credits.');\n      }\n      if ((_c = (_b = axiosError.response) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.message) {\n        throw new Error(axiosError.response.data.message);\n      }\n    }\n    throw error instanceof Error ? error : new Error('An unknown error occurred');\n  }\n  static create(item) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.post(`${this.apiUrl}/crud`, item, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n  static get(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.get(`${this.apiUrl}/crud/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n  static update(id, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.put(`${this.apiUrl}/crud/${id}`, data, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n  static delete(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.validateCredentials();\n        const response = yield axios_1.default.delete(`${this.apiUrl}/crud/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        return this.handleError(error);\n      }\n    });\n  }\n}\nmodule.exports = Crublibrary;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","axios_1","require","dotenv_1","default","config","Crublibrary","validateCredentials","apiUrl","process","env","CRUD_API_URL","apiKey","CRUD_API_KEY","Error","handleError","error","_a","_b","_c","isAxiosError","axiosError","response","status","data","message","create","item","post","headers","get","id","update","put","delete","module","exports"],"sources":["C:/Users/LENOVO/Downloads/form_pilot_assignment/crublibrary/dist/index.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst axios_1 = __importDefault(require(\"axios\"));\nconst dotenv_1 = __importDefault(require(\"dotenv\"));\ndotenv_1.default.config();\nclass Crublibrary {\n    static validateCredentials() {\n        this.apiUrl = process.env.CRUD_API_URL || '';\n        this.apiKey = process.env.CRUD_API_KEY || '';\n        if (!this.apiUrl || !this.apiKey) {\n            throw new Error('Missing API URL or API Key. Please set CRUD_API_URL and CRUD_API_KEY in your environment variables.');\n        }\n    }\n    static handleError(error) {\n        var _a, _b, _c;\n        if (axios_1.default.isAxiosError(error)) {\n            const axiosError = error;\n            if (((_a = axiosError.response) === null || _a === void 0 ? void 0 : _a.status) === 429) {\n                throw new Error('Request limit exceeded. Please recharge credits.');\n            }\n            if ((_c = (_b = axiosError.response) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.message) {\n                throw new Error(axiosError.response.data.message);\n            }\n        }\n        throw error instanceof Error ? error : new Error('An unknown error occurred');\n    }\n    static create(item) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.post(`${this.apiUrl}/crud`, item, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`,\n                        'Content-Type': 'application/json'\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n    static get(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.get(`${this.apiUrl}/crud/${id}`, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n    static update(id, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.put(`${this.apiUrl}/crud/${id}`, data, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`,\n                        'Content-Type': 'application/json'\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n    static delete(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.validateCredentials();\n                const response = yield axios_1.default.delete(`${this.apiUrl}/crud/${id}`, {\n                    headers: {\n                        'Authorization': `Bearer ${this.apiKey}`\n                    }\n                });\n                return response.data;\n            }\n            catch (error) {\n                return this.handleError(error);\n            }\n        });\n    }\n}\nmodule.exports = Crublibrary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}